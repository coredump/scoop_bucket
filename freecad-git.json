{
    "version": "0.20.24787",
    "description": "Freecad weekly builds",
    "homepage": "https://www.freecadweb.org",
    "license": "GPL-2.0",
    "architecture": {
        "64bit": {
            "url": "https://github.com/FreeCAD/FreeCAD-Bundle/releases/download/weekly-builds/FreeCAD_0.20.24787_Win-LPv12.5.4_vc17.x-x86-64.7z",
            "extract_dir": "FreeCAD_0.20.24787_Win-LPv12.5.4_vc17.x-x86-64",
            "hash": "0387ea17bfdcf4c1f8f3dee6805867a6c923b58bd3126bebcfa7e074bf3972d1"
        }
    },
    "pre_install": [
        "# Create a persist dir",
        "if (!(Test-Path \"$dir\\UserData\")) {",
        "    (New-Item -Type directory \"$dir\\UserData\") | Out-Null",
        "}",
        "# Create a startup batch file",
        "$CONT=@(",
        "   set FREECAD_USER_DATA=$dir\\UserData",
        "   start $dir\\bin\\FreeCad.exe -u %FREECAD_USER_DATA%\\user.cfg -s %FREECAD_USER_DATA%\\system.cfg",
        ")",
        "Set-Content $dir\\FreeCad_git.bat $CONT -Encoding ASCII"
    ],
    "bin": [ [ "FreeCad_git.bat", "freecad" ] ],
    "env_set": {
        "FREECAD_USER_DATA": "$dir\\UserData"
    },
    "persist": "UserData",
    "shortcuts": [
        [
            "FreeCad_git.bat",
            "FreeCAD - Weekly"
        ]
    ],
    "checkver": {
        "url": "https://github.com/FreeCAD/FreeCAD-Bundle/releases/tag/weekly-builds",
        "regex": "(?sm)FreeCAD_([\\d.]+)_Win-LPv[\\d.]+_vc[\\d]+.x-x86-64\\.7z"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/FreeCAD/FreeCAD-Bundle/releases/download/weekly-builds/FreeCAD_$version_Win-LPv12.5.4_vc17.x-x86-64.7z",
                "extract_dir": "FreeCAD_$version_Win-LPv12.5.4_vc17.x-x86-64"
            }
        },
        "hash": {
            "url": "$url-SHA256.txt",
            "regex": "(?sm):\\s+([a-fA-F\\d\\s]+)CertUtil"
        }
    },
    "notes": [
        "FreeCAD versions use the same userdata repository and they may be incompatible between them,",
        "make sure to backup your user data/config before changing between FreeCAD, FreeCAD pre releases and",
        "different FreeCAD builds",
        "If FreeCAD merges/fixes the Portable versions, this may be solved in the future."
    ]
}
